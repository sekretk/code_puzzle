(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(3),o=n(9),l=n(10),u=n(5),i=n(1),m=n.n(i),s=(n(21),n(2)),d=n(11),p=n(14),f=(n(24),{true:function(e,t){return e.id===t?!e.commented:e.commented},false:function(e,t){return e.id!==t}}),b="http://boysthings.top:9999",E=Object(d.b)(function(e){var t=e.value,n=e.onToggle,a=t.line,c=t.commented;return m.a.createElement("li",{className:c?"commented":""},m.a.createElement("div",{className:"item"},m.a.createElement("button",{className:"comment",onMouseDown:n},"//"),m.a.createElement("p",{className:"multiline"},a),m.a.createElement("span",null,"...")))}),v=Object(d.a)(function(e){var t=e.children;return m.a.createElement("ul",null,t)});function j(e){var t=e.items,n=e.multiple,a=e.onItemsChanged,c=Object(i.useState)(t),o=Object(s.a)(c,2),l=o[0],u=o[1];return m.a.createElement("div",{className:"content ".concat(n&&"multiple")},m.a.createElement(v,{onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,c=Object(p.a)(l,t,n);u(c),a(c)},useWindowAsScrollContainer:!0},l.map(function(e,t){return m.a.createElement(E,{key:"item-".concat(e.id),index:t,value:e,onToggle:(c=e.id,function(){var e=l.map(function(e){return Object(r.a)({},e,{commented:f[n](e,c)})});u(e),a(e)})});var c})))}var O=function(e){var t=e.value,n=e.onToggle,a=t.line,c=t.commented;return m.a.createElement("li",{className:c?"commented":""},m.a.createElement("div",{className:"item"},m.a.createElement("button",{className:"comment",onMouseDown:n},"//"),m.a.createElement("p",{className:"multiline"},a)))};function g(e){var t=e.items,n=e.multiple,a=e.onItemsChanged,c=Object(i.useState)(t),o=Object(s.a)(c,2),l=o[0],u=o[1];return m.a.createElement("ul",{className:"undraggable ".concat(n&&"multiple")},l.map(function(e){return m.a.createElement(O,{key:"item-".concat(e.id),value:e,onToggle:(t=e.id,function(){var e=l.map(function(e){return Object(r.a)({},e,{commented:f[n](e,t)})});u(e),console.log(e),a(e)})});var t}))}function w(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,"\u0412\u0435\u0440\u043d\u043e!"),m.a.createElement("p",null,t))}var h={true:function(e){return m.a.createElement(j,e)},false:function(e){return m.a.createElement(g,e)}};function N(e){var t=e.poll,n=e.description,a=e.blocks,l=e.multiple,u=e.sortable,d=e.id,p=Object(i.useState)(void 0),f=Object(s.a)(p,2),E=f[0],v=f[1],j=Object(i.useState)(!1),O=Object(s.a)(j,2),g=O[0],N=O[1],x=function(){var e=Object(o.a)(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/result/"+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({question:d,lines:T.filter(function(e){return!e.commented}).map(function(e){return e.id})})});case 2:return n=e.sent,e.next=5,n.text();case 5:a=e.sent,v(a),N(!Boolean(a));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){window.location.reload()},S=l?a.map(function(e){return Object(r.a)({},e,{commented:Math.random()<.5})}):a.map(function(e){return Object(r.a)({},e,{commented:!1})}),y=Object(i.useState)(S),C=Object(s.a)(y,2),T=C[0],I=C[1];Object(i.useEffect)(function(){document.title="Code Puzzle"},[]);var A=h[u]({items:S,onItemsChanged:I,multiple:l});return m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{className:"description multiline"},n),m.a.createElement("button",{className:"next",onClick:k},"\u0414\u0430\u043b\u044c\u0448\u0435"),m.a.createElement("button",{className:"submit",onClick:x},"Submit"),m.a.createElement("div",{className:"alert ".concat(g?"alert-shown":"alert-hidden"),onTransitionEnd:function(){console.log("onTransitionEnd"),N(!1)}},m.a.createElement("strong",null,"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435. \u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e!")),A,Boolean(E)&&m.a.createElement("div",{className:"result"},m.a.createElement("button",{onClick:k},"\u0414\u0430\u043b\u044c\u0448\u0435"),m.a.createElement(w,E)))}n.d(t,"swapInArray",function(){return x});var x=function(e,t,n){var a=Object(l.a)(e),c=[e[n],e[t]];return a[t]=c[0],a[n]=c[1],a};Object(o.a)(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.pathname.replace("/",""),e.next=3,fetch(b+"/rndpoll/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,a=Object(r.a)({},a,{poll:t}),Object(u.render)(m.a.createElement(N,a),document.getElementById("root"));case 9:case"end":return e.stop()}},e)}))()}},[[15,1,2]]]);
//# sourceMappingURL=main.2b194626.chunk.js.map