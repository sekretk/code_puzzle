(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(3),o=n(9),l=n(10),i=n(5),u=n(1),s=n.n(u),m=(n(22),n(2)),d=n(11),p=n(14),f=n(15),b=Object(d.b)(function(e){var t=e.value,n=e.onToggle,a=t.line,c=t.commented;return s.a.createElement("li",{className:c?"commented":""},s.a.createElement("div",{className:"item"},s.a.createElement("button",{className:"comment",onMouseDown:n},"//"),s.a.createElement("p",{className:"multiline"},a),s.a.createElement(f.a,{icon:"fa-solid fa-grip-dots-vertical"})))}),E=Object(d.a)(function(e){var t=e.children;return s.a.createElement("ul",null,t)});function j(e){var t=e.items,n=(e.multiple,e.onItemsChanged),a=Object(u.useState)(t),c=Object(m.a)(a,2),o=c[0],l=c[1];return s.a.createElement("div",{className:"content"},s.a.createElement(E,{onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex;l(Object(p.a)(o,t,a)),n(o)},useWindowAsScrollContainer:!0},o.map(function(e,t){return s.a.createElement(b,{key:"item-".concat(e.id),index:t,value:e,onToggle:(a=e.id,function(){l(o.map(function(e){return Object(r.a)({},e,{commented:e.id===a?!e.commented:e.commented})})),n(o)})});var a})))}function v(e){var t=e.items,n=(e.onItemsChanged,Object(u.useState)(t)),a=Object(m.a)(n,2);a[0],a[1];return s.a.createElement("p",null,"Non graggable")}var O={true:function(e){return s.a.createElement(j,e)},false:function(e){return s.a.createElement(v,e)}};function g(e){var t=e.poll,n=e.description,a=e.blocks,l=e.multiple,i=e.sortable,d=e.id,p=Object(u.useState)(void 0),f=Object(m.a)(p,2),b=f[0],E=f[1],j=Object(u.useState)(!1),v=Object(m.a)(j,2),g=v[0],h=v[1],w=function(){var e=Object(o.a)(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://boysthings.top:9999/result/"+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:d,lines:y.filter(function(e){return!e.commented}).map(function(e){return e.id})})});case 2:return n=e.sent,e.next=5,n.text();case 5:a=e.sent,E(a),h(!Boolean(a));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){window.location.reload()},N=l?a.map(function(e){return Object(r.a)({},e,{commented:Math.random()<.5})}):a.map(function(e){return Object(r.a)({},e,{commented:!1})}),k=Object(u.useState)(N),S=Object(m.a)(k,2),y=S[0],C=S[1];Object(u.useEffect)(function(){document.title="Code Puzzle"},[]);var I=O[i]({items:N,onItemsChanged:C,multiple:l});return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"description multiline"},n),s.a.createElement("button",{className:"next",onClick:x},"\u0414\u0430\u043b\u044c\u0448\u0435"),s.a.createElement("button",{className:"submit",onClick:w},"Submit"),s.a.createElement("div",{className:"alert ".concat(g?"alert-shown":"alert-hidden"),onTransitionEnd:function(){console.log("onTransitionEnd"),h(!1)}},s.a.createElement("strong",null,"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435. \u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e!")),I,Boolean(b)&&s.a.createElement("div",{className:"result"},s.a.createElement("button",{onClick:x},"\u0414\u0430\u043b\u044c\u0448\u0435"),s.a.createElement("p",null,"\u0423\u0440\u0430! \u0412\u044b \u0440\u0430\u0437\u0433\u0430\u0434\u0430\u043b\u0438!"),s.a.createElement("p",null,b),s.a.createElement("p",null,"google doc!"),s.a.createElement("p",null,"dx link?")))}n.d(t,"swapInArray",function(){return h});var h=function(e,t,n){var a=Object(l.a)(e),c=[e[n],e[t]];return a[t]=c[0],a[n]=c[1],a};Object(o.a)(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.pathname.replace("/",""),e.next=3,fetch("http://boysthings.top:9999/rndpoll/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,a=Object(r.a)({},a,{poll:t}),Object(i.render)(s.a.createElement(g,a),document.getElementById("root"));case 9:case"end":return e.stop()}},e)}))()}},[[16,1,2]]]);
//# sourceMappingURL=main.41fe397e.chunk.js.map